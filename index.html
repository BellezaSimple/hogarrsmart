<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HogarSmart — Soluciones prácticas para tu hogar</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    /* -----------------------------------------
       Paleta: grises / negro / blanco + amarillo
    ------------------------------------------*/
    :root{
      --bg:#fafafa;
      --surface:#ffffff;
      --muted-1:#f2f2f2;
      --muted-2:#e6e6e6;
      --text:#222;
      --muted-text:#6b6b6b;
      --accent:#f6c85f; /* amarillo */
      --accent-dark:#e4b84b;
      --shadow: rgba(16,24,32,0.06);
      --max-width:1200px;
      --radius:14px;
      --glass: rgba(255,255,255,0.6);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',sans-serif;
      background:linear-gradient(180deg,var(--bg) 0%, #ffffff 100%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* ---------- Header ---------- */
    header{
      position:fixed;top:0;left:0;right:0;height:68px;
      display:flex;align-items:center;justify-content:space-between;padding:0 18px;
      background:rgba(255,255,255,0.8);backdrop-filter: blur(6px);
      border-bottom:1px solid var(--muted-2);z-index:1500;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:48px;height:48px;border-radius:10px;
      background:linear-gradient(180deg,#fff,#f4f4f4);
      border:1px solid var(--muted-2);display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--text);
      box-shadow:0 8px 18px rgba(0,0,0,0.04);
      font-size:14px
    }
    .brand .title{font-weight:700;font-size:1rem;color:#111}
    nav.desktop{display:none}

    /* hamburger (panel) */
    .hamburger{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;cursor:pointer}
    .burger-lines{width:22px;height:2px;background:#222;border-radius:2px;position:relative}
    .burger-lines::before,.burger-lines::after{content:"";position:absolute;left:0;width:22px;height:2px;background:#222;border-radius:2px}
    .burger-lines::before{top:-7px}.burger-lines::after{top:7px}
    .hamburger.open .burger-lines{background:transparent}
    .hamburger.open .burger-lines::before{transform:translateY(7px) rotate(45deg)}
    .hamburger.open .burger-lines::after{transform:translateY(-7px) rotate(-45deg)}

    main{padding-top:92px}
    .container{max-width:var(--max-width);margin:0 auto;padding:0 18px}

    /* ---------- HERO / INICIO ---------- */
    #inicio{padding:46px 0 32px}
    .hero{
      display:grid;grid-template-columns:1fr;gap:18px;align-items:center;
    }
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(250,250,250,0.95));
      padding:26px;border-radius:16px;box-shadow:0 12px 40px rgba(16,24,32,0.06);
      display:flex;gap:22px;align-items:center;justify-content:space-between;
    }
    .hero-left{max-width:62%}
    .hero-left h1{font-size:1.6rem;margin:0 0 8px;color:#111}
    .hero-left p{margin:0;color:var(--muted-text)}
    .hero-cta{margin-top:12px;display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:10px 16px;border-radius:999px;border:none;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--text);color:#fff}
    .btn-ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--text)}

    /* side area in hero for top products */
    .hero-right{width:320px;background:linear-gradient(180deg,var(--surface),#fbfbfb);padding:16px;border-radius:12px;border:1px solid var(--muted-2)}
    .hero-right h3{margin:0 0 8px;font-size:1rem;color:#222}
    .top-list{display:grid;gap:10px}
    .top-item{display:flex;gap:12px;align-items:center;cursor:pointer;padding:8px;border-radius:10px;transition:all .12s}
    .top-item:hover{background:var(--muted-1);transform:translateX(-4px)}
    .top-item img{width:72px;height:56px;border-radius:8px;object-fit:cover}

    /* ---------- PRODUCTS GRID / CATALOG ---------- */
    #productos{padding:28px 0}
    .section-head{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
    .section-title{font-size:1.15rem;color:#111;font-weight:700}
    .section-sub{color:var(--muted-text);font-size:0.95rem}

    .products-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:14px;
    }
    .product-card{
      background:var(--surface);border-radius:12px;padding:12px;box-shadow:0 8px 18px var(--shadow);
      display:flex;flex-direction:column;gap:8px;transition:transform .18s,box-shadow .18s;cursor:pointer;
    }
    .product-card:hover{transform:translateY(-6px);box-shadow:0 20px 36px rgba(0,0,0,0.08)}
    .product-thumb{height:180px;border-radius:10px;overflow:hidden;background:var(--muted-1);display:flex;align-items:center;justify-content:center}
    .product-meta{display:flex;flex-direction:column;gap:6px}
    .product-title{font-weight:700;color:#111;font-size:0.98rem;margin:0}
    .product-desc{color:var(--muted-text);font-size:0.92rem;margin:0}
    .product-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}

    .price{font-weight:800;color:#111}

    /* ---------- PRODUCT MODAL (center) ---------- */
    .overlay-modal{
      position:fixed;inset:0;background:rgba(0,0,0,0.28);backdrop-filter:blur(4px);opacity:0;visibility:hidden;transition:opacity .22s,z-index 0s;z-index:1400;
    }
    .overlay-modal.show{opacity:1;visibility:visible}
    .product-modal{
      position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);
      width:90%;max-width:980px;height:auto;max-height:86vh;overflow:auto;
      background:linear-gradient(180deg,var(--surface),#fff);border-radius:14px;padding:16px;
      box-shadow:0 30px 90px rgba(0,0,0,0.28);z-index:1450;opacity:0;visibility:hidden;transition:opacity .2s,transform .2s;
    }
    .product-modal.show{opacity:1;visibility:visible;transform:translate(-50%,-50%) scale(1)}
    .modal-grid{display:grid;grid-template-columns:1fr 360px;gap:16px}
    .modal-left img{width:100%;height:320px;object-fit:contain;border-radius:10px;background:var(--muted-1)}
    .thumbs{display:flex;gap:8px;margin-top:8px}
    .thumbs img{width:72px;height:72px;border-radius:8px;object-fit:cover;cursor:pointer;border:1px solid var(--muted-2)}
    .modal-right{display:flex;flex-direction:column;gap:10px;padding:6px}
    .promo{background:linear-gradient(90deg,var(--accent),var(--accent-dark));padding:8px;border-radius:8px;color:#3a2b00;font-weight:700}

    /* mini order form */
    .mini-form{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .mini-form input,.mini-form textarea,.mini-form select{padding:10px;border-radius:10px;border:1px solid #eee}
    .pay-options{display:flex;gap:8px;flex-wrap:wrap}
    .pay-options label{background:var(--muted-1);padding:6px 8px;border-radius:8px;font-weight:600}

    .pm-msg{display:none;margin-top:8px;font-weight:700;color:green}

    /* rating area */
    .rating-area{display:flex;flex-direction:column;gap:8px}
    .stars-inline{display:flex;gap:6px;font-size:20px;color:#f5c518}
    .rating-badge{font-weight:700;color:var(--text);margin-left:8px}

    /* thank you toast */
    .toast{
      position:fixed;left:50%;transform:translateX(-50%);bottom:28px;background:#111;color:#fff;padding:12px 18px;border-radius:999px;box-shadow:0 6px 18px rgba(0,0,0,0.2);opacity:0;visibility:hidden;transition:opacity .25s;
      z-index:1600;
    }
    .toast.show{opacity:1;visibility:visible}

    /* ---------- SIDE PANEL (BURGER MENU) ---------- */
    .side-panel{
      position:fixed;top:0;right:-100%;width:92%;max-width:720px;height:100vh;background:linear-gradient(180deg,#fff,#fbfbfb);
      box-shadow:-40px 0 80px rgba(0,0,0,0.12);border-left:1px solid var(--muted-2);z-index:1550;padding:28px 22px;transition:right .28s cubic-bezier(.2,.9,.2,1);
    }
    .side-panel.show{right:0}
    .panel-inner{display:flex;flex-direction:column;height:100%}
    .panel-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .panel-links{display:flex;flex-direction:column;gap:10px;margin-top:18px}
    .panel-links a{padding:12px 16px;border-radius:12px;text-decoration:none;color:#111;display:flex;align-items:center;gap:10px;font-weight:700;background:transparent;border:1px solid rgba(0,0,0,0.04)}
    .panel-links a:hover{background:var(--muted-1);transform:translateX(-6px);transition:all .12s}

    /* blur when side-panel open - apply via JS to main content wrapper */
    .blurred{filter:blur(4px);pointer-events:none;user-select:none}

    /* ---------- COMMENTS / REVIEWS LIST ---------- */
    #comentarios{padding:18px 0}
    .review{background:var(--surface);padding:12px;border-radius:10px;border:1px solid var(--muted-2);display:flex;gap:12px;align-items:flex-start}
    .avatar{width:44px;height:44px;border-radius:10px;background:var(--muted-1);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--text)}

    /* ---------- FOOTER ---------- */
    footer{background:var(--muted-2);padding:28px 18px;margin-top:24px}
    .foot-inner{max-width:var(--max-width);margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:12px}
    footer a{color:var(--text);font-weight:700}

    /* ---------- Responsive ---------- */
    @media (max-width:1020px){
      .products-grid{grid-template-columns:repeat(3,1fr)}
      .modal-grid{grid-template-columns:1fr 320px}
      .hero-left{max-width:100%}
    }
    @media (max-width:820px){
      .products-grid{grid-template-columns:repeat(2,1fr)}
      .hero{grid-template-columns:1fr}
      .hero-right{width:100%}
      .modal-grid{grid-template-columns:1fr}
      .product-modal{max-width:92%}
    }
    @media (max-width:480px){
      header{padding:0 10px}
      .products-grid{grid-template-columns:1fr}
      .hero-card{flex-direction:column;align-items:flex-start}
      .logo{width:40px;height:40px}
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="brand" aria-hidden="false">
      <div class="logo">HS</div>
      <div>
        <div class="title">HogarSmart</div>
        <div style="font-size:12px;color:var(--muted-text)">Soluciones prácticas para tu hogar</div>
      </div>
    </div>

    <nav class="desktop" aria-hidden="true">
      <!-- kept hidden on mobile; accessible from side panel -->
    </nav>

    <button id="menuBtn" class="hamburger" aria-label="Abrir menú" aria-controls="sidePanel" aria-expanded="false">
      <span class="burger-lines" aria-hidden="true"></span>
    </button>
  </header>

  <!-- SIDE PANEL (BURGER) -->
  <aside id="sidePanel" class="side-panel" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="panel-inner">
      <div class="panel-header">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="font-weight:800;color:#111">HogarSmart</div>
          <div style="color:var(--muted-text)">Menú</div>
        </div>
        <button id="closePanel" class="hamburger" aria-label="Cerrar menú" style="background:transparent;border:none;font-size:20px">✕</button>
      </div>

      <nav class="panel-links" aria-label="Navegación principal">
        <a href="#inicio" data-target="inicio">🏠 Inicio</a>
        <a href="#productos" data-target="productos">🛒 Productos más vendidos</a>
        <a href="#catalogo" data-target="catalogo">📦 Catálogo</a>
        <a href="#comentarios" data-target="comentarios">💬 Comentarios</a>
        <a href="#sobre-nosotros" data-target="sobre-nosotros">🌿 Sobre nosotros</a>
        <a href="#contacto" data-target="contacto">📞 Contacto</a>
        <a href="https://instagram.com" target="_blank" rel="noopener">📸 Instagram</a>
      </nav>

      <div style="margin-top:auto;padding-top:18px;border-top:1px dashed var(--muted-2)">
        <div style="color:var(--muted-text);font-size:0.92rem;margin-bottom:8px">Confianza</div>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <div style="background:var(--muted-1);padding:8px;border-radius:10px;font-weight:700">🚚 Envíos fáciles</div>
          <div style="background:var(--muted-1);padding:8px;border-radius:10px;font-weight:700">💵 Pago contraentrega</div>
          <div style="background:var(--muted-1);padding:8px;border-radius:10px;font-weight:700">🔧 Soporte</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- OVERLAY (for modal + side-panel) -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <!-- MAIN -->
  <main id="mainContent">
    <div class="container">

      <!-- INICIO / HERO -->
      <section id="inicio">
        <div class="hero">
          <div class="hero-card" role="region" aria-labelledby="heroTitle">
            <div class="hero-left">
              <h1 id="heroTitle">HogarSmart — Haz tu vida más fácil en casa</h1>
              <p>Descubre soluciones prácticas y automatizadas para las tareas diarias. Productos seleccionados para ahorrar tiempo, simplificar procesos y cuidar tu hogar con estilo profesional.</p>

              <div class="hero-cta">
                <button class="btn btn-primary" onclick="scrollToSection('productos')">🛍️ Ver productos más vendidos</button>
                <button class="btn btn-ghost" onclick="scrollToSection('catalogo')">🔎 Ver catálogo completo</button>
              </div>

              <p style="margin-top:12px;color:var(--muted-text)">En HogarSmart nos enfocamos en practicidad, calidad y diseño. Encuentra gadgets y accesorios que realmente facilitan tu día a día.</p>
            </div>

            <aside class="hero-right" aria-label="Top productos">
              <h3>Top productos 🔥</h3>
              <div class="top-list" id="topProductsList">
                <!-- JS will populate: 3-4 top products clickables -->
              </div>
              <div style="margin-top:12px">
                <button class="btn btn-ghost" onclick="scrollToSection('catalogo')">Ver todos los productos</button>
              </div>
            </aside>
          </div>
        </div>
      </section>

      <!-- PRODUCTOS MÁS VENDIDOS (sección destacada) -->
      <section id="productos">
        <div class="section-head">
          <div>
            <div class="section-title">🛒 Productos más vendidos</div>
            <div class="section-sub">Los favoritos por su practicidad</div>
          </div>
          <div style="color:var(--muted-text)">Actualizado recientemente</div>
        </div>

        <div id="productsFeatured" class="products-grid" aria-live="polite">
          <!-- JS will populate 4 featured -->
        </div>
      </section>

      <!-- CATALOGO (todos los productos) -->
      <section id="catalogo">
        <div class="section-head">
          <div>
            <div class="section-title">📦 Catálogo — Todos los productos</div>
            <div class="section-sub">Explora nuestro catálogo completo. Haz clic en un producto para ver detalles y realizar tu pedido.</div>
          </div>
          <div style="color:var(--muted-text)">Filtros próximamente</div>
        </div>

        <div id="catalogGrid" class="products-grid" aria-live="polite">
          <!-- JS will populate 16 products -->
        </div>
      </section>

      <!-- COMENTARIOS -->
      <section id="comentarios">
        <div class="section-head">
          <div>
            <div class="section-title">💬 Comentarios</div>
            <div class="section-sub">Opiniones reales de clientes — (ejemplos de prueba)</div>
          </div>
        </div>

        <div style="display:grid;gap:12px">
          <div class="review">
            <div class="avatar">MA</div>
            <div>
              <div style="display:flex;align-items:center;gap:10px"><div style="font-weight:700">María A.</div><div style="color:var(--muted-text)"> · Bogotá</div></div>
              <div style="margin-top:6px" class="muted">"El organizador plegable cambió mi cocina — ahora todo cabe y se seca rápido."</div>
              <div style="margin-top:8px;color:#f5c518">★★★★★</div>
            </div>
          </div>

          <div class="review">
            <div class="avatar">JC</div>
            <div>
              <div style="display:flex;align-items:center;gap:10px"><div style="font-weight:700">Juan C.</div><div style="color:var(--muted-text)"> · Medellín</div></div>
              <div style="margin-top:6px" class="muted">"La mini aspiradora es compacta y fuerte. Recomendado para apartamentos."</div>
              <div style="margin-top:8px;color:#f5c518">★★★★☆</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SOBRE NOSOTROS -->
      <section id="sobre-nosotros">
        <div class="section-head">
          <div>
            <div class="section-title">🌿 Sobre HogarSmart</div>
            <div class="section-sub">Nuestra misión: simplificar tu día a día</div>
          </div>
        </div>

        <div style="color:var(--muted-text);max-width:920px">
          <p><strong>HogarSmart</strong> es una empresa dedicada a diseñar y seleccionar soluciones prácticas para el hogar, enfocadas en la eficiencia y la comodidad. Nuestro objetivo es que con herramientas inteligentes y productos bien pensados, las tareas cotidianas consuman menos tiempo y energía, permitiéndote disfrutar más de lo que realmente importa.</p>
          <p style="margin-top:8px">Seleccionamos productos por su utilidad, durabilidad y experiencia de uso. Además, facilitamos la compra con opciones seguras de pago —incluyendo pago contraentrega— y envíos rápidos.</p>
        </div>
      </section>

      <!-- CONTACTO -->
      <section id="contacto">
        <div class="section-head">
          <div>
            <div class="section-title">📞 Contáctanos</div>
            <div class="section-sub">Estamos para ayudarte</div>
          </div>
        </div>

        <div style="display:flex;gap:18px;flex-wrap:wrap;align-items:center">
          <div style="min-width:240px">
            <div style="font-weight:700">Email</div>
            <div style="color:var(--muted-text)">contacto@hogarsmart.com</div>
            <div style="height:12px"></div>
            <div style="font-weight:700">Instagram</div>
            <div style="color:var(--muted-text)">@hogarsmart_oficial</div>
          </div>

          <div style="min-width:260px">
            <div style="font-weight:700">WhatsApp</div>
            <div style="color:var(--muted-text)">+57 300 000 0000</div>
            <div style="height:8px"></div>
            <div style="color:var(--muted-text)">Horario: Lun - Vie 9:00 - 18:00</div>
          </div>
        </div>
      </section>

    </div>

    <footer>
      <div class="foot-inner">
        <div style="font-weight:800;color:#111">© 2025 HogarSmart</div>
        <div style="color:var(--muted-text)">Síguenos en <a href="https://instagram.com" target="_blank" rel="noopener">Instagram</a></div>
      </div>
    </footer>
  </main>

  <!-- OVERLAY for modal specifically (works together with overlay) -->
  <div id="overlayModal" class="overlay-modal" aria-hidden="true"></div>

  <!-- PRODUCT MODAL (central window ~70%) -->
  <div id="productModal" class="product-modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="pmTitle">
    <button id="closeProductModal" class="hamburger" style="position:absolute;right:14px;top:12px;background:transparent;border:none;font-size:18px;cursor:pointer">✕</button>

    <div class="modal-grid">
      <div class="modal-left">
        <img id="pmImage" src="" alt="Imagen producto">
        <div class="thumbs" id="pmThumbs"></div>
      </div>

      <div class="modal-right">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px">
          <div>
            <div id="pmTitle" style="font-size:1.05rem;font-weight:800;color:#111"></div>
            <div id="pmSub" style="color:var(--muted-text);margin-top:6px"></div>
          </div>

          <div style="text-align:right">
            <div id="pmPrice" style="font-weight:900;color:#111;font-size:1.05rem"></div>
            <div style="display:flex;align-items:center;justify-content:flex-end;margin-top:8px">
              <div id="pmStars" class="stars-inline">★★★★★</div>
              <div id="pmRatingNum" class="rating-badge"></div>
            </div>
          </div>
        </div>

        <div class="benefits" style="margin-top:10px">
          <strong>Beneficios</strong>
          <ul id="pmBenefits" style="margin:8px 0 0 16px;color:var(--muted-text)"></ul>
        </div>

        <div id="pmPromo" class="promo" style="margin-top:10px">Promoción especial</div>

        <!-- FORM / ORDER -->
        <div style="margin-top:12px">
          <div style="font-weight:800;margin-bottom:8px">Realizar pedido</div>
          <form id="pmForm" class="mini-form" autocomplete="off">
            <input name="name" type="text" placeholder="Tu nombre" required>
            <input name="phone" type="tel" placeholder="WhatsApp (ej. 3001234567)" required>
            <select name="city" required>
              <option value="">Selecciona ciudad</option>
              <option>Bogotá</option>
              <option>Medellín</option>
              <option>Cali</option>
              <option>Otra</option>
            </select>

            <div class="pay-options" style="margin-top:6px">
              <label><input type="radio" name="payMethod" value="contraentrega" checked style="margin-right:6px">Pago contraentrega</label>
              <label><input type="radio" name="payMethod" value="nequi" style="margin-right:6px">Nequi</label>
              <label><input type="radio" name="payMethod" value="daviplata" style="margin-right:6px">Daviplata</label>
              <label><input type="radio" name="payMethod" value="tarjeta" style="margin-right:6px">Tarjeta</label>
            </div>

            <textarea name="address" rows="2" placeholder="Dirección (si aplica)"></textarea>

            <div style="display:flex;gap:8px;margin-top:8px">
              <button type="submit" class="btn btn-primary">Enviar pedido</button>
              <button type="button" class="btn btn-ghost" id="pmRateBtn">Calificar</button>
            </div>

            <div id="pmMsg" class="pm-msg">Mensaje</div>
          </form>
        </div>

      </div>
    </div>
  </div>

  <!-- RATING POPUP (inline in modal) -->
  <div id="ratingPopup" class="product-modal" style="max-width:520px;display:none;left:50%;transform:translate(-50%,-50%) scale(.98);">
    <div style="text-align:center;font-weight:800;color:#111;margin-bottom:8px">Valora este producto</div>
    <div class="rate-stars" role="radiogroup" aria-label="Puntuación" style="display:flex;gap:8px;justify-content:center;margin-bottom:8px">
      <button class="rate-btn" data-value="1" aria-label="1 estrella" style="font-size:28px;background:transparent;border:none;cursor:pointer">☆</button>
      <button class="rate-btn" data-value="2" aria-label="2 estrellas" style="font-size:28px;background:transparent;border:none;cursor:pointer">☆</button>
      <button class="rate-btn" data-value="3" aria-label="3 estrellas" style="font-size:28px;background:transparent;border:none;cursor:pointer">☆</button>
      <button class="rate-btn" data-value="4" aria-label="4 estrellas" style="font-size:28px;background:transparent;border:none;cursor:pointer">☆</button>
      <button class="rate-btn" data-value="5" aria-label="5 estrellas" style="font-size:28px;background:transparent;border:none;cursor:pointer">☆</button>
    </div>

    <textarea id="ratingComment" rows="4" placeholder="¿Qué te pareció el producto?"></textarea>
    <div style="display:flex;gap:8px;justify-content:center;margin-top:10px">
      <button id="sendRating" class="btn btn-primary">Enviar valoración</button>
      <button id="cancelRating" class="btn btn-ghost">Cancelar</button>
    </div>
  </div>

  <!-- THANK YOU TOAST -->
  <div id="toast" class="toast" role="status" aria-live="polite">¡Gracias por tu valoración!</div>

<script>
/* ---------- DATA: 16 Productos genéricos ---------- */
const PRODUCTS = [
  { id:'p1', title:'Escurridor Plegable 2 en 1', subtitle:'Plegable y fácil de guardar', price:'COP 39.900', images:[
      'https://images.unsplash.com/photo-1580910051072-9f5bc4a0ad71?auto=format&fit=crop&w=800&q=60',
      'https://images.unsplash.com/photo-1581579186044-3f3b96f6d8b6?auto=format&fit=crop&w=600&q=60'
    ], benefits:['Ahorro de espacio','Material resistente','Secado rápido'], promo:'10% en 2+ unidades', rating:4.5, reviews:34 },
  { id:'p2', title:'Mini Aspiradora Portátil', subtitle:'Compacta y potente', price:'COP 59.900', images:[
      'https://images.unsplash.com/photo-1600180758890-3e1a9b2b64d7?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Ligera','USB recargable','Ideal para migas y pelos'], promo:'Envío gratis', rating:4.6, reviews:80 },
  { id:'p3', title:'Dispensador Automático de Jabón', subtitle:'Sensor sin contacto', price:'COP 45.900', images:[
      'https://images.unsplash.com/photo-1582719478177-2f78a52f6e2d?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Higiénico','Ahorra jabón','Fácil recarga'], promo:'Incluye baterías', rating:4.4, reviews:56 },
  { id:'p4', title:'Organizador Multiusos para Cocina', subtitle:'Bandeja modular', price:'COP 29.900', images:[
      'https://images.unsplash.com/photo-1581579186044-3f3b96f6d8b6?auto=format&fit=crop&w=600&q=60'
    ], benefits:['Modular','Fácil limpieza','Material duradero'], promo:'Descuento 15% hoy', rating:4.3, reviews:21 },
  { id:'p5', title:'Esterilla Antideslizante para Baño', subtitle:'Secado rápido', price:'COP 19.900', images:[
      'https://images.unsplash.com/photo-1603988365739-68b39a9b7b9c?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Antibacterial','Seca rápido','Fácil transporte'], promo:'2x1 edición limitada', rating:4.2, reviews:12 },
  { id:'p6', title:'Cortador Multifunción Cocina', subtitle:'Ahorra tiempo al cocinar', price:'COP 24.900', images:[
      'https://images.unsplash.com/photo-1580910043586-9fa43dfc0f4f?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Varios cortes','Limpieza rápida','Compacto'], promo:'Incluye protector', rating:4.6, reviews:43 },
  { id:'p7', title:'Cepillo Limpiador de Microfibra', subtitle:'Limpia sin rayar', price:'COP 14.900', images:[
      'https://images.unsplash.com/photo-1582719478238-dc2b1f7b0b2a?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Absorbe bien','Ideal para vidrios','Fácil enjuague'], promo:'Pack ahorro 3', rating:4.1, reviews:9 },
  { id:'p8', title:'Soporte para Celular (Manos libres)', subtitle:'Ajustable y estable', price:'COP 22.900', images:[
      'https://images.unsplash.com/photo-1525182008055-f88b95ff7980?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Angulo ajustable','Ideal para recetas','Plegable'], promo:'Envío 24h', rating:4.7, reviews:101 },
  { id:'p9', title:'Dispensador de Pasta Dental Automático', subtitle:'Higiénico y cómodo', price:'COP 18.900', images:[
      'https://images.unsplash.com/photo-1599058917763-e8e0ff2ad2b0?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Sin desperdicio','Instalación sencilla'], promo:'Incluye accesorios', rating:4.0, reviews:7 },
  { id:'p10', title:'Organizador de Closet Colgante', subtitle:'Maximiza espacio', price:'COP 34.900', images:[
      'https://images.unsplash.com/photo-1556909210-3f1f5b6f1a0a?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Fácil colgar','Varios compartimentos'], promo:'Perfecto para ahorro de espacio', rating:4.3, reviews:22 },
  { id:'p11', title:'Rodillo Masajeador Manual', subtitle:'Relaja músculos en casa', price:'COP 26.900', images:[
      'https://images.unsplash.com/photo-1546484959-fd5f8b5b9a8c?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Alivio rápido','Portátil'], promo:'Ideal para post-entreno', rating:4.8, reviews:204 },
  { id:'p12', title:'Mopa Giratoria Compacta', subtitle:'Limpieza sin esfuerzo', price:'COP 49.900', images:[
      'https://images.unsplash.com/photo-1587019158656-0c6f2c3e0bfd?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Sistema giratorio','Fácil escurrido'], promo:'Incluye cabezales extra', rating:4.5, reviews:66 },
  { id:'p13', title:'Termómetro Digital Cocina', subtitle:'Precisión y rapidez', price:'COP 12.900', images:[
      'https://images.unsplash.com/photo-1601048492654-1f5f4f0d9a8c?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Lectura rápida','Compacto'], promo:'Perfecto para cocinar', rating:4.1, reviews:18 },
  { id:'p14', title:'Cortina Organizador (Baño)', subtitle:'Impermeable y elegante', price:'COP 32.900', images:[
      'https://images.unsplash.com/photo-1587914091009-1efc7f7b5f6b?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Fácil instalar','Material premium'], promo:'Variedad de colores', rating:4.0, reviews:10 },
  { id:'p15', title:'Luz LED Portátil Recargable', subtitle:'Ideal para armarios y rincones', price:'COP 22.900', images:[
      'https://images.unsplash.com/photo-1582719478376-583d6b2a6d58?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Batería larga','Montaje magnético'], promo:'Pack ahorro 2 unidades', rating:4.4, reviews:44 },
  { id:'p16', title:'Set de Utensilios Plegables', subtitle:'Perfecto para viajes y camping', price:'COP 16.900', images:[
      'https://images.unsplash.com/photo-1551218808-94e220e084d2?auto=format&fit=crop&w=800&q=60'
    ], benefits:['Compacto','Material durable'], promo:'Ideal para llevar', rating:4.2, reviews:14 }
];

/* ---------- Element references ---------- */
const menuBtn = document.getElementById('menuBtn');
const sidePanel = document.getElementById('sidePanel');
const overlay = document.getElementById('overlay');
const closePanel = document.getElementById('closePanel');
const mainContent = document.getElementById('mainContent');

const topProductsList = document.getElementById('topProductsList');
const productsFeatured = document.getElementById('productsFeatured');
const catalogGrid = document.getElementById('catalogGrid');

const productModal = document.getElementById('productModal');
const overlayModal = document.getElementById('overlayModal');
const closeProductModal = document.getElementById('closeProductModal');
const pmImage = document.getElementById('pmImage');
const pmThumbs = document.getElementById('pmThumbs');
const pmTitle = document.getElementById('pmTitle');
const pmSub = document.getElementById('pmSub');
const pmPrice = document.getElementById('pmPrice');
const pmBenefits = document.getElementById('pmBenefits');
const pmPromo = document.getElementById('pmPromo');
const pmStars = document.getElementById('pmStars');
const pmRatingNum = document.getElementById('pmRatingNum');
const pmForm = document.getElementById('pmForm');
const pmMsg = document.getElementById('pmMsg');
const pmRateBtn = document.getElementById('pmRateBtn');

const ratingPopup = document.getElementById('ratingPopup');
const rateBtns = document.querySelectorAll('.rate-btn');
const sendRatingBtn = document.getElementById('sendRating');
const cancelRatingBtn = document.getElementById('cancelRating');
const ratingComment = document.getElementById('ratingComment');

const toast = document.getElementById('toast');

let currentProduct = null;

/* ---------- Helpers ---------- */
function renderStars(value){
  const full = Math.floor(value);
  let html = '';
  for(let i=0;i<full;i++) html += '★';
  for(let i=full;i<5;i++) html += '☆';
  return html;
}

/* ---------- Populate top products (3) and featured (4) and catalog (16) ---------- */
function populateListings(){
  // top: first 3
  const topIds = [0,1,2];
  topProductsList.innerHTML = '';
  topIds.forEach(i=>{
    const p = PRODUCTS[i];
    const div = document.createElement('div');
    div.className = 'top-item';
    div.innerHTML = `<img src="${p.images[0]}" alt=""><div><div style="font-weight:700;color:#111">${p.title}</div><div style="color:var(--muted-text)">${p.price}</div></div>`;
    div.addEventListener('click', ()=> openProductModalByIndex(i));
    topProductsList.appendChild(div);
  });

  // featured (first 4)
  productsFeatured.innerHTML = '';
  for(let i=0;i<4;i++){
    const p = PRODUCTS[i];
    const card = document.createElement('article');
    card.className = 'product-card';
    card.setAttribute('data-index', i);
    card.innerHTML = `
      <div class="product-thumb"><img src="${p.images[0]}" alt="${p.title}"></div>
      <div class="product-meta">
        <h3 class="product-title">${p.title} <span style="font-size:12px;color:var(--muted-text);font-weight:600"> · ${p.subtitle}</span></h3>
        <p class="product-desc">${p.benefits[0]}</p>
      </div>
      <div class="product-row">
        <div class="price">${p.price}</div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-ghost view-btn" data-index="${i}">Ver</button>
          <button class="btn btn-primary buy-btn" data-index="${i}">Comprar</button>
        </div>
      </div>
    `;
    productsFeatured.appendChild(card);
  }

  // catalog (16)
  catalogGrid.innerHTML = '';
  PRODUCTS.forEach((p, idx)=>{
    const card = document.createElement('article');
    card.className = 'product-card';
    card.setAttribute('data-index', idx);
    card.innerHTML = `
      <div class="product-thumb"><img src="${p.images[0]}" alt="${p.title}"></div>
      <div class="product-meta">
        <h3 class="product-title">${p.title}</h3>
        <p class="product-desc">${p.subtitle}</p>
      </div>
      <div class="product-row">
        <div style="display:flex;flex-direction:column">
          <div class="price">${p.price}</div>
          <div style="color:var(--muted-text);font-size:12px">${p.rating.toFixed(1)} (${p.reviews})</div>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-ghost view-btn" data-index="${idx}">Ver</button>
          <button class="btn btn-primary buy-btn" data-index="${idx}">Comprar</button>
        </div>
      </div>
    `;
    catalogGrid.appendChild(card);
  });
}

/* ---------- Open product modal by index ---------- */
function openProductModalByIndex(index){
  const p = PRODUCTS[index];
  if(!p) return;
  currentProduct = index;

  pmImage.src = p.images[0];
  pmThumbs.innerHTML = '';
  p.images.forEach(src=>{
    const im = document.createElement('img');
    im.src = src; im.alt = p.title;
    im.addEventListener('click', ()=> pmImage.src = src);
    pmThumbs.appendChild(im);
  });

  pmTitle.textContent = p.title;
  pmSub.textContent = p.subtitle;
  pmPrice.textContent = p.price;
  pmPromo.textContent = p.promo || '';
  pmBenefits.innerHTML = p.benefits.map(b=>`<li>${b}</li>`).join('');
  pmStars.textContent = renderStars(p.rating);
  pmRatingNum.textContent = `${p.rating.toFixed(1)} (${p.reviews})`;

  // show overlay & modal and blur content
  overlay.classList.add('show');
  overlayModal.classList.add('show');
  productModal.classList.add('show');
  mainContent.classList.add('blurred');

  document.getElementById('pmForm').reset();
  pmMsg.style.display = 'none';
}

/* ---------- Close product modal ---------- */
function closeProductModalFn(){
  productModal.classList.remove('show');
  overlayModal.classList.remove('show');
  overlay.classList.remove('show');
  mainContent.classList.remove('blurred');
  currentProduct = null;
}

/* ---------- Menu (side panel) open/close ---------- */
function openSide(){
  sidePanel.classList.add('show');
  overlay.classList.add('show');
  menuBtn.classList.add('open');
  mainContent.classList.add('blurred');
  menuBtn.setAttribute('aria-expanded','true');
}
function closeSide(){
  sidePanel.classList.remove('show');
  overlay.classList.remove('show');
  menuBtn.classList.remove('open');
  mainContent.classList.remove('blurred');
  menuBtn.setAttribute('aria-expanded','false');
}

/* ---------- Wire events ---------- */
menuBtn.addEventListener('click', ()=> {
  if(sidePanel.classList.contains('show')) closeSide();
  else openSide();
});
closePanel.addEventListener('click', closeSide);

// overlay closes modal or side
overlay.addEventListener('click', ()=>{
  if(sidePanel.classList.contains('show')) closeSide();
  if(productModal.classList.contains('show')) closeProductModalFn();
  if(ratingPopup.style.display === 'block') closeRatingPopup();
});

// close product modal btn
closeProductModal.addEventListener('click', closeProductModalFn);

/* ---------- Delegate click on view / buy buttons (for featured & catalog) ---------- */
document.addEventListener('click', (e)=>{
  const v = e.target.closest('.view-btn');
  if(v){ const idx = Number(v.dataset.index); openProductModalByIndex(idx); return; }
  const b = e.target.closest('.buy-btn');
  if(b){ const idx = Number(b.dataset.index); openProductModalByIndex(idx); setTimeout(()=> document.querySelector('#pmForm input[name="name"]').focus(),250); return; }
  // card click (open)
  const card = e.target.closest('.product-card');
  if(card && !e.target.closest('button')) {
    const idx = Number(card.getAttribute('data-index'));
    if(!Number.isNaN(idx)) openProductModalByIndex(idx);
  }
});

/* ---------- Form submit (simulate order) ---------- */
pmForm.addEventListener('submit', (e)=>{
  e.preventDefault();
  const fd = new FormData(pmForm);
  if(!fd.get('name') || !fd.get('phone')){
    pmMsg.style.display = 'block';
    pmMsg.style.color = 'crimson';
    pmMsg.textContent = 'Por favor completa los campos obligatorios.';
    return;
  }
  // simulate order
  pmMsg.style.display = 'block';
  pmMsg.style.color = 'green';
  pmMsg.textContent = '✅ Gracias por tu pedido. Te contactaremos por WhatsApp en breve.';
  pmForm.reset();

  // auto close modal after small delay
  setTimeout(()=> {
    closeProductModalFn();
    showToast('Pedido recibido. Pronto te contactamos.');
  }, 1500);
});

/* ---------- Rating popup logic ---------- */
function openRatingPopup(){
  if(currentProduct === null){ alert('Abre un producto antes de valorar.'); return; }
  ratingPopup.style.display = 'block';
  overlay.classList.add('show');
  mainContent.classList.add('blurred');
  // reset stars UI
  rateBtns.forEach(b => b.textContent = '☆');
  ratingComment.value = '';
  selectedRating = 5;
  for(let i=0;i<selectedRating;i++) rateBtns[i].textContent='★';
}
function closeRatingPopup(){
  ratingPopup.style.display = 'none';
  overlay.classList.remove('show');
  mainContent.classList.remove('blurred');
}
let selectedRating = 5;
rateBtns.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    selectedRating = Number(btn.dataset.value);
    rateBtns.forEach(b=> b.textContent = (Number(b.dataset.value) <= selectedRating) ? '★':'☆');
  });
});
cancelRatingBtn.addEventListener('click', closeRatingPopup);

sendRatingBtn.addEventListener('click', ()=>{
  if(currentProduct === null) return;
  const prod = PRODUCTS[currentProduct];
  const total = prod.rating * prod.reviews;
  prod.reviews = prod.reviews + 1;
  prod.rating = ((total + selectedRating) / prod.reviews);
  // update UI in modal
  pmStars.textContent = renderStars(prod.rating);
  pmRatingNum.textContent = `${prod.rating.toFixed(1)} (${prod.reviews})`;
  closeRatingPopup();
  showToast('Gracias por tu valoración — tu opinión ayuda mucho.');
});

/* ---------- Open rating from modal button ---------- */
pmRateBtn.addEventListener('click', (e)=>{
  e.preventDefault();
  openRatingPopup();
});

/* ---------- Auto-close sidePanel when clicking any link inside it ---------- */
const panelLinks = document.querySelectorAll('#sidePanel a');
panelLinks.forEach(link=>{
  link.addEventListener('click', (ev)=>{
    // If internal anchor, scroll to section then close panel
    const target = link.getAttribute('data-target');
    if(target){
      ev.preventDefault();
      closeSide();
      // small delay to allow panel to close visually
      setTimeout(()=> scrollToSection(target), 220);
    } else {
      // external (instagram etc) : just close
      closeSide();
    }
  });
});

/* ---------- Smooth scroll helper ---------- */
function scrollToSection(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.scrollIntoView({behavior:'smooth', block:'start'});
}

/* ---------- Toast helper ---------- */
let toastTimer = null;
function showToast(text){
  toast.textContent = text;
  toast.classList.add('show');
  if(toastTimer) clearTimeout(toastTimer);
  toastTimer = setTimeout(()=> toast.classList.remove('show'), 3000);
}

/* ---------- Init populate and animation ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  populateListings();

  // animate product cards (small entrance)
  document.querySelectorAll('.product-card').forEach((c,i)=>{
    c.style.opacity = 0;
    c.style.transform = 'translateY(8px)';
    setTimeout(()=>{ c.style.transition = 'opacity .45s ease, transform .45s ease'; c.style.opacity = 1; c.style.transform = 'none'; }, 80 * i);
  });

  // ensure featured and top clickable buttons wired (if dynamic)
  document.querySelectorAll('.view-btn, .buy-btn').forEach(b => b.addEventListener('click', e => e.stopPropagation()));
});

/* ---------- Accessibility: ESC to close modals/panels ---------- */
window.addEventListener('keydown',(e)=>{
  if(e.key === 'Escape'){
    if(ratingPopup.style.display === 'block') closeRatingPopup();
    else if(productModal.classList.contains('show')) closeProductModalFn();
    else if(sidePanel.classList.contains('show')) closeSide();
  }
});

/* ---------- Ensure clicking a top featured opens modal (redundant safety) ---------- */
topProductsList.addEventListener('click',(e)=>{
  const card = e.target.closest('.top-item');
  if(card) {
    const idx = Array.from(topProductsList.children).indexOf(card);
    if(idx>=0) openProductModalByIndex(idx);
  }
});
</script>
<script>
// ===============================
// CONFIGURACIÓN DE PRODUCTOS
// ===============================
const productos = [
  {
    nombre: "Robot limpiador inteligente",
    precio: "$249.900",
    descripcion: "Mantén tus pisos impecables sin esfuerzo con este robot de limpieza automático.",
    imagen: "https://cdn.pixabay.com/photo/2019/07/09/10/54/robot-4321721_1280.jpg",
    calificacion: 4.8
  },
  {
    nombre: "Dispositivo purificador de aire",
    precio: "$179.900",
    descripcion: "Elimina polvo, humo y malos olores con este purificador silencioso y eficiente.",
    imagen: "https://cdn.pixabay.com/photo/2020/05/12/16/53/air-purifier-5167718_1280.jpg",
    calificacion: 4.5
  },
  {
    nombre: "Organizador magnético de cocina",
    precio: "$99.900",
    descripcion: "Optimiza el espacio de tu cocina con este elegante organizador magnético multifunción.",
    imagen: "https://cdn.pixabay.com/photo/2016/03/05/22/48/kitchen-1239430_1280.jpg",
    calificacion: 4.6
  },
  {
    nombre: "Dispositivo automático de jabón",
    precio: "$69.900",
    descripcion: "Dispensador automático con sensor para una experiencia más higiénica en tu hogar.",
    imagen: "https://cdn.pixabay.com/photo/2020/04/22/16/21/soap-dispenser-5077966_1280.jpg",
    calificacion: 4.7
  },
  {
    nombre: "Lámpara inteligente táctil",
    precio: "$129.900",
    descripcion: "Control táctil, luz cálida y diseño minimalista para tu espacio.",
    imagen: "https://cdn.pixabay.com/photo/2016/11/29/08/13/lamp-1867312_1280.jpg",
    calificacion: 4.9
  }
];

// ===============================
// ELEMENTOS DEL DOM
// ===============================
const menuBtn = document.getElementById('menuBtn');
const sidebar = document.getElementById('sidebar');
const closeBtn = document.getElementById('closeBtn');
const catalogGrid = document.getElementById('catalogGrid');
const bestSellersGrid = document.getElementById('bestSellersGrid');
const productModal = document.getElementById('productModal');
const modalClose = document.getElementById('modalClose');
const modalContent = document.getElementById('modalContent');

// ===============================
// MENÚ INTERACTIVO
// ===============================
menuBtn.addEventListener('click', () => {
  sidebar.classList.add('active');
  document.body.classList.add('blurred');
});

closeBtn.addEventListener('click', () => {
  sidebar.classList.remove('active');
  document.body.classList.remove('blurred');
});

document.querySelectorAll('.sidebar a').forEach(link => {
  link.addEventListener('click', () => {
    sidebar.classList.remove('active');
    document.body.classList.remove('blurred');
  });
});

// ===============================
// CARGAR PRODUCTOS EN CATÁLOGO
// ===============================
function cargarProductos() {
  if (catalogGrid) {
    productos.forEach((p, i) => {
      const card = document.createElement('div');
      card.classList.add('product-card');
      card.innerHTML = `
        <img src="${p.imagen}" alt="${p.nombre}">
        <h3>${p.nombre}</h3>
        <p>${p.precio}</p>
        <button class="view-btn" data-index="${i}">Ver producto</button>
      `;
      catalogGrid.appendChild(card);
    });
  }

  if (bestSellersGrid) {
    productos.slice(0, 4).forEach((p, i) => {
      const card = document.createElement('div');
      card.classList.add('product-card');
      card.innerHTML = `
        <img src="${p.imagen}" alt="${p.nombre}">
        <h3>${p.nombre}</h3>
        <p>${p.precio}</p>
        <button class="view-btn" data-index="${i}">Ver producto</button>
      `;
      bestSellersGrid.appendChild(card);
    });
  }
}
cargarProductos();

// ===============================
// MODAL DE PRODUCTO
// ===============================
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('view-btn')) {
    const index = e.target.dataset.index;
    const producto = productos[index];
    abrirModal(producto);
  }
});

function abrirModal(producto) {
  modalContent.innerHTML = `
    <div class="modal-product">
      <img src="${producto.imagen}" alt="${producto.nombre}">
      <h2>${producto.nombre}</h2>
      <p class="precio">${producto.precio}</p>
      <p>${producto.descripcion}</p>
      <p>⭐ ${producto.calificacion} / 5</p>
      <button class="buy-btn">Comprar ahora</button>
    </div>
  `;
  productModal.style.display = 'flex';
  document.body.classList.add('blurred');
}

modalClose.addEventListener('click', () => {
  productModal.style.display = 'none';
  document.body.classList.remove('blurred');
});

// ===============================
// ANIMACIÓN DE APARICIÓN SUAVE
// ===============================
window.addEventListener('load', () => {
  document.body.classList.add('page-loaded');
});
</script>

</body>
</html>
